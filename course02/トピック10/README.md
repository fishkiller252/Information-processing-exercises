オンラインショッピングで買い物をすると，購入した商品へのレーティングをお願いされることが多く，また自分のレーティングが多くなってくると，自分が関心を持ちそうな商品が自動的にお勧めされることがあります．

これを実現する比較的簡単な方法として，機械学習の分野の一つに「協調フィルタ」と呼ばれる方法が知られています．自分と他の消費者との間で，商品についての好みが似ているか，または逆の嗜好なのか，などを判断し，他の消費者のレーティングを，自分とその消費者との似通い具合で重み付けをして平均をとる方法です．

この場合，商品の好みについての消費者間での似通い具合を数値化する必要があります．これは統計学で「相関係数」と呼ばれる量を計算することで得られます．

相関係数が得られたら，ある商品へのレコメンデーションを得るのは簡単です．AさんとBさんの相関係数にもとづいて，BさんのレーティングをAさんのレーティングに変換すればよく，これをAさんとCさん．．．のように，すべての他の消費者に対して計算して，その平均をとればよいことになります．

この回では，皆さんにあらかじめ入力してもらった「フルーツの好みのレーティング」のデータを使い，データ入力に協力してくれた人に対して，フルーツのおすすめを提示するようなアプリケーションを作ることにします．まだ食べたことのない果物でも，食べたことがある人がいれば，その人との相関係数をもとに，もしかすると好みの果物かもしれない，ということがわかり，大変面白いと思います．

相関係数は簡単な2重ループで計算できます．そのためには平均の計算が必要ですし，最後にレコメンデーションを出力するためには，ユーザそれぞれに対して，他のユーザ全体との間の相関係数を計算するなど，2重ループが必要になります．

計算はたいへん簡単ですが，2重ループを多用します．今回の演習はループ処理に慣れてもらうことを主目的とします．

規模がやや大きい課題ですので，2週に分けたいとおもいます．今週は簡単な統計処理のみを仕上げることにします．レコメンデーションを行う大きなループについては，次週扱いたいと思います．
