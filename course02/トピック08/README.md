この演習ではブックで説明したURL上のCSVファイルを読み取って，その数値情報を集計・統計処理を行う例を体験してもらう．
具体的には，下記のサイトのCSVデータを読み込む．
札幌市ホームーページ・人口統計
住民基本台帳人口（http://www.city.sapporo.jp/toukei/jinko/juuki/juuki.html）
 ＜第6表＞町名・条丁目別世帯数及び男女別人口
平成28年10月1日現在（CSV形式）
URL：http://www.city.sapporo.jp/toukei/jinko/juuki/documents/jou201610.csv


このCSVファイルには，以下のように札幌市の区・町の世帯数と人口総数，および男女別の人口総数が書かれている．
```
平成28年10月1日現在,条丁目、世帯数及び男女別人口,,,,
区別,町条丁目,世帯数,総数,男,女
中央区,大通東２丁目,138,258,112,146
中央区,大通東３丁目,292,424,212,212
... 省略 ...
中央区,　　　合　　　　計,138245,232129,105184,126945
... 省略 ...
手稲区,明日風,1292,4093,2012,2081
手稲区,　　　合　　　　計,67797,141394,66746,74648
全　区,全 市 Ｔ Ｏ Ｔ Ａ Ｌ,1037093,1947127,911262,1035865
```
1.  このデータセットには，コンピュータで扱う上での注意事項（問題点）がいくつか見受けられる．

1.  先頭行には，データとは関係のないコメントが書いてあるので，読み飛ばす必要がある．
続く行はデータの項目を表すものだが，これも処理の際には読み飛ばす必要がある．
1.  町条丁目に当たる項目が"　　　合　　　　計"となっている行があり，そこに区の合計が記入されてる．これを特別に扱う配慮が必要になる．
1.  最後の行には”全　区”という特別な区名で，全体の合計が記入されている．これも個別データとは関係ないため，特別な配慮が必要となる．

そこで，

1.  このデータから「区の合計に相当する行」だけを読み取って，
1.  「区名」「区の世帯数」「区の人口総数」の3つのデータを保存し，
1.  すべての区の世帯数の合計と人口総数の合計を計算し，
1.  平均世帯人員（人口を世帯数で割ったもの）を，小数点第2位まで（第3位を四捨五入）表示し，同時に区名の一覧を表示する．

以上のようなアプリケーションを作りたい．

※補足※（もし札幌市役所のデータの作り方に一貫性があれば）このプログラムのURL部分をたとえば別な月のデータを指すように入れ替えると，その年月について同じ情報を簡単に得ることができる．
### 演習の流れ

この演習ではプログラムを2つに分けて作成する

１．目的のCSVファイルのURLを与えると，「区名」「区の世帯数」「区の人口総数」をURLから読み取って，それぞれArrayListに格納する"Census"クラス．

２．Censusクラスを使って上記の札幌市のCSVファイルを読み取らせ，その結果を集計して，区の一覧と，小数点第2位までの平均世帯人員を表示させるメインクラス"CensusMain"．

まずその１ではCensusクラスを作成して，仮のmainクラスを用意してテストし，いったん提出してもらうところまで演習を行う．
### 演習その１：Censusクラスの作成

まずcensusと名付けたパッケージを作成し，Censusクラスをmainクラスを付けて作成する．ブックで学んだとおり，入力エラーを上位のプログラムに伝えるために，クラスメソッドの宣言の際に，必要に応じて末尾に throws Exception を付けるのを忘れないように．

※11/09追記　ArrayListとネットワークアクセス関係のクラスを利用するために，
```
import java.util.*;
import java.io.*;
import java.net.*;
```
と必要なクラスをインポートするのを忘れないよう．

１．「区名」，「区の世帯数」「区の人口総数」それぞれはデータ長が事前にわからないため，可変長のデータを保存できるArrayListを使いたい．そこで次のインスタンス変数を用意し，newで初期化を行っておく．

1.  ward:「区名」を保存するString型のArrayList．（具体的には，この場合は private ArrayList<String> ward = new ArrayList<>(); )
1.  houses: 「区の世帯数」を保存するInteger型のArrayList．
1.  persons: 「区の人口総数」を保存するInteger型のArrayList.

２．これら3つのインスタンス変数のゲッターをそれぞれ用意する．

３．コンストラクタで，データを読み出すCSVファイルのURLを文字列として受け取り，そのままデータの読み取りと，３つのインスタンス変数への保存を行ってしまうことにする．つまり，呼び出し元では
```
Census c = new Census("データのURL");
```
とするだけでデータが準備され，その後cのインスタンス変数の値をゲッターで取得することで，ファイルから受け取って加工した値を参照できる．演習その２では受け取った値で数値計算を行い情報を出力させるプログラムを追加する．ここではまず，String型の site という変数１つを引数とするコンストラクタを作成する．

-  コンストラクタでは，ブック（7章）で学んだとおりの方法で，URLを表す文字列であるsiteから"SJIS"コードで情報を読み出す準備を行う．例に従うと，brという名前で読み出し先のBufferedReaderオブジェクトを用意する．
-  ブックの通り，一行ごとに読み出すwhile文を用意する．例をそのまま使うと，読み出された一行の文字列はlineという名前の変数に入る．（このwhile文の条件部を書き間違えると無限ループに陥るので，十分注意すること．）
-  読み込んだ行の文字列を，","で分割して，分割された個々の文字列をたとえばsという名前のString型の配列に入れる．この処理はブックで学んだとおり，String型のsplitメソッドを使えば一行で終わる．（※重要な補足：ブックではsplitメソッドとして分割に使用する文字列のみを引数とする例を紹介したが，このプログラムではsplitメソッドとして，第一引数に分割に使用する文字列を，第二引数に -1 を指定する方法で利用してほしい．第二引数は分割の適用回数を与えるもので，-1にしたばあいは，分割された文字列が空文字になったとしても，引き続き分割を適用し続ける．これは空の項目が並ぶようなデータを処理する場合に多用される）この処理により，sにはs[0]に区名，s[1]に町条丁目，s[2]に世帯数，s[3]に人口が得られる．
-  上に挙げたように，今回は「区の合計の世帯数および人口」を集計したいので，「町条丁目」が "　　　合　　　　計" である場合のみ，その行の「区名」をwardに，「世帯数」をhousesに，「人口」をpersonsに追加する．世帯数，人口についてはInteger型のラッパークラスに変換(コレクションクラスのブックで説明したInteger.valueOfを利用すると簡単）して追加すること．
-  ブックで学んだとおり，Stringの変数はオブジェクトなので，文字列の並びの一致判定には.equals(...)メソッドを使わなければならない．
-  ブックで学んだとおり，読み出しのwhile文を抜けた後は必ずbrをcloseすること．

ここまで完成したクラスのテストのために，下記のmainメソッドを追加する．メインメソッドでは，作成したCensusクラスを，札幌市のCSVのURLを与えて呼び，得られた区名，区の世帯数，区の人口を先頭から5件だけ出力する処理が書かれている．

```java
public static void main(String[] args) throws Exception {
    Census spr = new Census("http://www.city.sapporo.jp/toukei/jinko/juuki/documents/jou201610.csv");
    for(int i = 0; i < 5; ++i)
        System.out.println(
        spr.getWard().get(i)+","
                +（ここを適切に作る)
        );
}
```
ただし，printlnメソッドの中身は，区名，区の世帯数，区の人口を","で区切って出力するように適切に考えて埋めていただきたい．出力結果は具体的には下記のようになる．
```
中央区,138245,232129
北　区,149184,284585
東　区,140076,261212
白石区,118920,211164
厚別区,63952,128339
```
完成したCensusクラスをcensus1.jarなどの名前（どんな名前でもよいが，拡張子はjarであること）でjarファイルにエクスポートして，下に提出すること．続く演習ではCensusクラスを利用したCensusMainというクラスを作り，簡単な数値計算を足して表示する部分を完成させる．
